# Server Configuration
PORT=3000
NODE_ENV=development
# CORS_ORIGIN=true  # Allow all origins (default) or specify domain like https://example.com

# Rate Limiting / Throttle Configuration
# THROTTLE_TTL=60000  # Time-to-live in milliseconds (default: 60000 = 1 minute)
# THROTTLE_LIMIT=10  # Maximum requests per TTL window (default: 10)
# THROTTLE_BLOCK_DURATION=60000  # Block duration in milliseconds after exceeding limit (default: 60000 = 1 minute)

# Image Proxy Configuration
# Base URL for imgproxy service (optional, enables image proxy URLs in API responses)
# Example: IMGPROXY_BASE_URL=http://localhost:8080
# IMGPROXY_BASE_URL=

# Security keys for signed imgproxy URLs (optional, uses insecure mode if not set)
# Generate keys with: echo $(xxd -g 2 -l 64 -p /dev/random | tr -d '\n')
# IMGPROXY_KEY=
# IMGPROXY_SALT=

# External Source Adapters Configuration
# Comma-separated list of adapter IDs to enable
# Available adapters: arasaac, openverse, nostr-amb-relay, rpi-virtuell
# Example: ENABLED_ADAPTERS=arasaac,openverse,nostr-amb-relay,rpi-virtuell
ENABLED_ADAPTERS=nostr-amb-relay

# Timeout for adapter requests in milliseconds (default: 3000)
# ADAPTER_TIMEOUT_MS=3000

# AMB Relay Configuration
# WebSocket URL of the AMB relay for searching educational metadata
NOSTR_AMB_RELAY_URL=ws://amb-relay:3334

# Typesense API key (shared between typesense and amb-relay services)
# TS_APIKEY=xyz

# AMB Relay metadata
# AMB_RELAY_NAME=AMB Relay
# AMB_RELAY_PUBKEY=
# AMB_RELAY_DESCRIPTION=Local AMB Relay
# AMB_RELAY_ICON=
# TS_COLLECTION=amb_events

# Asset Signing Configuration (optional)
# HMAC-SHA256 key for signing asset redirect URLs. When set, the API returns
# signed proxy URLs (via /api/v1/assets/:signature) instead of direct source URLs.
# This avoids exposing original asset URLs to the client and allows server-side
# cache headers and security controls.
# Must be at least 32 characters. Any string works (e.g. a passphrase or random token).
# Generate with: openssl rand -base64 32
# If neither ASSET_SIGNING_KEY nor IMGPROXY_BASE_URL is set, source URLs are returned as-is.
# ASSET_SIGNING_KEY=

# Time-to-live for signed asset URLs in seconds (default: 3600 = 1 hour)
# Set to 0 for non-expiring signatures.
# ASSET_SIGNING_TTL_SECONDS=3600

# Public base URL used to construct signed asset URLs (optional)
# If not set, falls back to http://localhost:<PORT>
# Example: PUBLIC_BASE_URL=https://oer.example.com
# PUBLIC_BASE_URL=

# RPI-Virtuell Materialpool Configuration (optional, has default)
# GraphQL API endpoint for RPI-Virtuell Materialpool
# Default: https://material.rpi-virtuell.de/graphql
# RPI_VIRTUELL_API_URL=https://material.rpi-virtuell.de/graphql
